# README.md

## AWS Key Management Service (KMS)

### KMS Key Setup
- Create AWS KMS keys in the region where resources are deployed.
- Separate keys for:
  - EC2
  - RDS
  - S3 Buckets
  - Secret Manager (Database Password and Email Credentials)
- Configure a 90-day rotation period for each key.

### Usage in Terraform
- Use these KMS keys when defining resources in Terraform.

---

## Secret Management

### Database Password
- Auto-generated by Terraform.
- Stored in AWS Secret Manager with a custom KMS key.
- Retrieved by user-data script for web app configuration.

### Email Service Credentials
- Stored in AWS Secret Manager with a custom KMS key.
- Retrieved automatically by Lambda during execution.
- Environment variable usage for credentials is not allowed.

---

## Web Application SSL Configuration

### Dev Environment
- Use AWS Certificate Manager for SSL certificates.

### Demo Environment
- SSL certificate from Namecheap for demo
- Import the certificate into AWS ACM with the following command:
  
  aws acm import-certificate \
  --certificate fileb://./demo_amritanischal.me/demo_amritanischal_me.crt \
  --private-key fileb://./privatekey.pem \
  --certificate-chain fileb://./demo_amritanischal.me/demo_amritanischal_me.ca-bundle \
  --region us-east-1 --profile demo

- Configure the load balancer to use the imported certificate.

### SSL Notes
- Plain HTTP requests are not supported.
- No redirection from HTTP to HTTPS is required.
- Load balancer to EC2 instance traffic can use HTTP.
- Direct EC2 access is prohibited.

---

### Build Instructions

### Clone the repository

### Setup Variables

Modify the terraform.tfvars file to specify your configuration settings

### Initialize the Terraform working directory

terraform init

### Apply the configuration to create the resources

terraform apply
Confirm the action when prompted

### To destroy the created resources

terraform destroy